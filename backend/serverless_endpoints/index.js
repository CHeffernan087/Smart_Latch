const auth = require("./auth");
const doors = require("./doors");
const redis = require("./redis");
const user = require("./user");
const ota = require("./ota");
const { authed } = require("./middleware/auth");

exports.deleteUser = user.deleteUser;
exports.getOldToken = auth.getOldToken;
exports.getUserDoors = authed(doors.getUserDoors);
exports.logout = authed(auth.logout);
exports.refreshToken = auth.refreshToken;
exports.registerDoor = authed(doors.registerDoor);
exports.registerUser = user.registerUser;
exports.setLockState = doors.setLockState;
exports.testAuthMiddleware = authed(auth.testAuthMiddleware);
exports.toggleLatch = authed(doors.toggleLatch);
exports.toggleLockState = doors.toggleLockState;
exports.userExists = user.userExists;
exports.verifyUser = auth.verifyUser;
exports.refreshToken = auth.refreshToken;
exports.getOldToken = auth.getOldToken;
exports.nfcUpdate = doors.nfcUpdate;
exports.insertFirmwaresOnBigquery = ota.insertFirmwaresOnBigquery;
exports.getDownloadUrl = ota.getDownloadUrl;
exports.getLockState = authed(doors.getLockState);
